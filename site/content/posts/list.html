{{ define "main" }}
  <section class="container" style="max-width: 900px; margin: 0 auto; padding: 2rem 1rem;">
    <h1 style="margin: 0 0 1rem 0;">{{ .Title }}</h1>
    {{ with .Content }}
      <div class="intro" style="margin-bottom: 1.5rem;">{{ . }}</div>
    {{ end }}

    {{ $paginator := .Paginate (where .Pages "Type" "blog") }}
    {{ if not (gt $paginator.TotalNumberOfElements 0) }}
      <p>No posts yet. Check back soon!</p>
    {{ else }}
      <div class="posts" style="display: grid; gap: 1rem;">
        {{ range $paginator.Pages.ByDate.Reverse }}
          <article style="border:1px solid #e5e7eb; border-radius:12px; padding:1rem;">
            <h2 style="margin:.15rem 0 .25rem 0;">
              <a href="{{ .RelPermalink }}" style="text-decoration:none; color:#0f172a;">
                {{ .Title }}
              </a>
            </h2>
            <div style="font-size:.9rem; color:#64748b; margin-bottom:.5rem;">
              {{ .Date.Format "January 2, 2006" }}
            </div>
            <p style="margin:0;">
              {{ with .Params.summary }}{{ . }}{{ else }}{{ .Summary | plainify }}{{ end }}
            </p>
            <div style="margin-top:.5rem;">
              <a href="{{ .RelPermalink }}">Read more â†’</a>
            </div>
          </article>
        {{ end }}
      </div>

      {{ template "_internal/pagination.html" . }}
    {{ end }}
  </section>
{{ end }}
